{
	"info": {
		"_postman_id": "331ee769-02ed-45a2-bb87-1217c4726423",
		"name": "Learning Paths",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "19526465"
	},
	"item": [
		{
			"name": "Health check",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{URL}}/learning-paths/health",
					"host": [
						"{{URL}}"
					],
					"path": [
						"learning-paths",
						"health"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Token",
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "username",
							"value": "chris.mccann@topcoder.com",
							"type": "string"
						},
						{
							"key": "password",
							"value": "cruel-gable-ALUM9",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"client_id\": \"BXWXUWnilVUPdN01t2Se29Tw2ZYNGZvH\",\n    \"code\": \"wV-Aer45U1fN0ffV3PiJvfa6Mtnyx_V_qZ8mdDnKDIeP3\",\n    \"code_verifier\": \"2pOCS6mUqJe9C4iDW8fqiFTmTvURp9H22zXRVkdNCVh\",\n    \"grant_type\": \"authorization_code\",\n    \"redirect_uri\": \"https://accounts-auth0.topcoder-dev.com\"\n    }",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://auth.topcoder-dev.com/oauth/token",
					"protocol": "https",
					"host": [
						"auth",
						"topcoder-dev",
						"com"
					],
					"path": [
						"oauth",
						"token"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Learning Resource Providers",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{URL}}/learning-paths/providers",
					"host": [
						"{{URL}}"
					],
					"path": [
						"learning-paths",
						"providers"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Learning Resource Provider by Id",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{URL}}/learning-paths/providers/{{PROVIDER_ID}}",
					"host": [
						"{{URL}}"
					],
					"path": [
						"learning-paths",
						"providers",
						"{{PROVIDER_ID}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get All Certifications",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{URL}}/learning-paths/certifications",
					"host": [
						"{{URL}}"
					],
					"path": [
						"learning-paths",
						"certifications"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Certifications for Provider",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{URL}}/learning-paths/certifications?providerName=freeCodeCamp",
					"host": [
						"{{URL}}"
					],
					"path": [
						"learning-paths",
						"certifications"
					],
					"query": [
						{
							"key": "providerName",
							"value": "freeCodeCamp"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Certification by Id",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{URL}}/learning-paths/certifications/{{CERTIFICATION_ID}}",
					"host": [
						"{{URL}}"
					],
					"path": [
						"learning-paths",
						"certifications",
						"{{CERTIFICATION_ID}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get All Certification Progresses",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{TOKEN}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{URL}}/learning-paths/certification-progresses",
					"host": [
						"{{URL}}"
					],
					"path": [
						"learning-paths",
						"certification-progresses"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Certification Progresses for User",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{TOKEN}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{URL}}/learning-paths/certification-progresses?userId={{USER_ID}}&provider=freeCodeCamp&certification=responsive-web-design",
					"host": [
						"{{URL}}"
					],
					"path": [
						"learning-paths",
						"certification-progresses"
					],
					"query": [
						{
							"key": "userId",
							"value": "{{USER_ID}}"
						},
						{
							"key": "provider",
							"value": "freeCodeCamp"
						},
						{
							"key": "certification",
							"value": "responsive-web-design"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Certification Progress by ID",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"if(pm.response.status === 'OK') {",
							"    const response = pm.response.json();",
							"    pm.expect(response.id).to.eq(pm.environment.get('CERTIFICATION_PROGRESS_ID'))",
							"    // pm.expect(response.currentLesson).to.eq(\"learn-html-by-building-a-cat-photo-app/step-2\")",
							"    // pm.expect(response.modules[0].completedLessonCount).to.eq(1)",
							"    // pm.expect(response.modules[0].completedLessons.length).to.eq(1)",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{TOKEN}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{URL}}/learning-paths/certification-progresses/{{CERTIFICATION_PROGRESS_ID}}",
					"host": [
						"{{URL}}"
					],
					"path": [
						"learning-paths",
						"certification-progresses",
						"{{CERTIFICATION_PROGRESS_ID}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Completed Certifications for user",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{URL}}/learning-paths/completed-certifications/88778831",
					"host": [
						"{{URL}}"
					],
					"path": [
						"learning-paths",
						"completed-certifications",
						"88778831"
					]
				}
			},
			"response": []
		},
		{
			"name": "Delete Certification Progress by ID",
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{TOKEN}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{URL}}/learning-paths/certification-progresses/{{CERTIFICATION_PROGRESS_ID}}",
					"host": [
						"{{URL}}"
					],
					"path": [
						"learning-paths",
						"certification-progresses",
						"{{CERTIFICATION_PROGRESS_ID}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Start Certification",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{TOKEN}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"module\": \"learn-html-by-building-a-cat-photo-app\",\n    \"lesson\": \"step-1\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{URL}}/learning-paths/certification-progresses/{{USER_ID}}/{{CERTIFICATION_ID}}/{{COURSE_ID}}",
					"host": [
						"{{URL}}"
					],
					"path": [
						"learning-paths",
						"certification-progresses",
						"{{USER_ID}}",
						"{{CERTIFICATION_ID}}",
						"{{COURSE_ID}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Complete Lesson",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"pm.collectionVariables.set(\"LESSON_TO_COMPLETE\", \"step-2\");"
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"if(pm.response.status === 'OK') {",
							"    const response = pm.response.json();",
							"    pm.expect(response.id).to.eq(pm.environment.get('CERTIFICATION_PROGRESS_ID'))",
							"    // pm.expect(response.completedLessonCount).to.eq(2)",
							"    // pm.expect(response.modules[0].completedLessons.length).to.eq(2)",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{TOKEN}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"module\": \"build-a-personal-portfolio-webpage-project\",\n    \"lesson\": \"build-a-personal-portfolio-webpage\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{URL}}/learning-paths/certification-progresses/{{CERTIFICATION_PROGRESS_ID}}/complete-lesson",
					"host": [
						"{{URL}}"
					],
					"path": [
						"learning-paths",
						"certification-progresses",
						"{{CERTIFICATION_PROGRESS_ID}}",
						"complete-lesson"
					]
				}
			},
			"response": []
		},
		{
			"name": "Update Current Lesson",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"pm.collectionVariables.set(\"NEXT_LESSON\", \"step-3\");"
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{TOKEN}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{URL}}/learning-paths/certification-progresses/{{CERTIFICATION_PROGRESS_ID}}/current-lesson?module=learn-html-by-building-a-cat-photo-app&lesson=step-1",
					"host": [
						"{{URL}}"
					],
					"path": [
						"learning-paths",
						"certification-progresses",
						"{{CERTIFICATION_PROGRESS_ID}}",
						"current-lesson"
					],
					"query": [
						{
							"key": "module",
							"value": "learn-html-by-building-a-cat-photo-app"
						},
						{
							"key": "lesson",
							"value": "step-1"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Complete Certification",
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{TOKEN}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{URL}}/learning-paths/certification-progresses/{{CERTIFICATION_PROGRESS_ID}}/complete-certification",
					"host": [
						"{{URL}}"
					],
					"path": [
						"learning-paths",
						"certification-progresses",
						"{{CERTIFICATION_PROGRESS_ID}}",
						"complete-certification"
					],
					"query": [
						{
							"key": "certificateUrl",
							"value": "{{CERTIFICATE_URL}}"
						},
						{
							"key": "certificateElement",
							"value": "{{CERTIFICATE_ELEMENT}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Accept Academic Honesty policy",
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{TOKEN}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{URL}}/learning-paths/certification-progresses/{{CERTIFICATION_PROGRESS_ID}}/honesty-policy",
					"host": [
						"{{URL}}"
					],
					"path": [
						"learning-paths",
						"certification-progresses",
						"{{CERTIFICATION_PROGRESS_ID}}",
						"honesty-policy"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get All Courses",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{URL}}/learning-paths/courses",
					"host": [
						"{{URL}}"
					],
					"path": [
						"learning-paths",
						"courses"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Courses for Provider",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{URL}}/learning-paths/courses?provider=freeCodeCamp",
					"host": [
						"{{URL}}"
					],
					"path": [
						"learning-paths",
						"courses"
					],
					"query": [
						{
							"key": "provider",
							"value": "freeCodeCamp"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Courses for Certification",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{URL}}/learning-paths/courses?certification=responsive-web-design",
					"host": [
						"{{URL}}"
					],
					"path": [
						"learning-paths",
						"courses"
					],
					"query": [
						{
							"key": "certification",
							"value": "responsive-web-design"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Course by Id",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{URL}}/learning-paths/courses/{{COURSE_ID}}",
					"host": [
						"{{URL}}"
					],
					"path": [
						"learning-paths",
						"courses",
						"{{COURSE_ID}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Course Modules",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{URL}}/learning-paths/courses/{{COURSE_ID}}/modules",
					"host": [
						"{{URL}}"
					],
					"path": [
						"learning-paths",
						"courses",
						"{{COURSE_ID}}",
						"modules"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get user profile",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://api.topcoder-dev.com/v5/members/steveburns",
					"protocol": "https",
					"host": [
						"api",
						"topcoder-dev",
						"com"
					],
					"path": [
						"v5",
						"members",
						"steveburns"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get SSR CERT",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{CERTIFICATE_SSR_URL}}/{{HANDLE}}/{{PROVIDER}}/{{CERTIFICATION}}/{{CERTIFICATE_TITLE}}"
				}
			},
			"response": []
		}
	],
	"variable": [
		{
			"key": "NEW_CERTIFICATION",
			"value": "react-web-design"
		},
		{
			"key": "STEP_TO_COMPLETE",
			"value": ""
		},
		{
			"key": "NEXT_LESSON",
			"value": ""
		},
		{
			"key": "LESSON_TO_COMPLETE",
			"value": ""
		}
	]
}
